package com.vk.kphpstorm.helpers

import java.util.*

/**
 * List of functions that exist in kphp natively
 * (and in php only their polyfills are written, surrounded by #ifndef...#endif)
 * Having them here is much faster than for example @kphp-native tag above polyfills.
 */
val KPHP_NATIVE_FUNCTIONS: SortedSet<String> = sortedSetOf(
        // keywords, so that inspections depending on func name also treat these functions as kphp built-in
        "fork",
        "wait",
        "tuple",
        "shape",
        "not_null",
        "not_false",

        // from functions.txt â€” addons to php standard library
        "warning",
        "require_lib",
        "critical_error",
        "register_kphp_on_warning_callback",
        "register_kphp_on_oom_callback",
        "kphp_backtrace",
        "kphp_set_context_on_error",
        "kphp_get_runtime_config",
        "memory_get_total_usage",
        "memory_get_static_usage",
        "estimate_memory_usage",
        "memory_get_detailed_stats",
        "memory_get_allocations",
        "ffi_memcpy_string",
        "ffi_cast_ptr2addr",
        "ffi_cast_addr2ptr",
        "ffi_array_set",
        "ffi_array_get",
        "get_global_vars_memory_stats",
        "get_net_time",
        "get_script_time",
        "get_net_queries_count",
        "get_engine_uptime",
        "get_engine_version",
        "get_engine_workers_number",
        "getKeyByPos",
        "getValueByPos",
        "create_vector",
        "array_first_key",
        "array_first_value",
        "array_last_key",
        "array_last_value",
        "array_merge_into",
        "array_find",
        "array_keys_as_strings",
        "array_keys_as_ints",
        "array_swap_int_keys",
        "array_reserve",
        "array_reserve_vector",
        "array_reserve_map_int_keys",
        "array_reserve_map_string_keys",
        "array_reserve_from",
        "array_unset",
        "array_is_vector",
        "array_filter_by_key",
        "vk_utf8_to_win",
        "vk_win_to_utf8",
        "vk_flex",
        "vk_json_encode",
        "vk_json_encode_safe",
        "vk_whitespace_pack",
        "vk_sp_simplify",
        "vk_sp_full_simplify",
        "vk_sp_deunicode",
        "vk_sp_to_upper",
        "vk_sp_to_lower",
        "vk_sp_sort",
        "vk_stats_hll_merge",
        "vk_stats_hll_count",
        "vk_stats_hll_create",
        "vk_stats_hll_add",
        "vk_dot_product",
        "likely",
        "unlikely",
        "err",
        "fetch_int",
        "fetch_long",
        "fetch_double",
        "fetch_string",
        "fetch_string_as_int",
        "fetch_memcache_value",
        "fetch_eof",
        "fetch_end",
        "fetch_lookup_int",
        "fetch_lookup_data",
        "rpc_parse",
        "new_rpc_connection",
        "store_gzip_pack_threshold",
        "store_start_gzip_pack",
        "store_finish_gzip_pack",
        "rpc_clean",
        "store_header",
        "store_error",
        "store_raw",
        "store_int",
        "store_long",
        "store_double",
        "store_string",
        "store_finish",
        "rpc_send",
        "rpc_send_noflush",
        "rpc_flush",
        "rpc_get",
        "rpc_get_synchronously",
        "rpc_get_and_parse",
        "rpc_queue_create",
        "rpc_queue_push",
        "rpc_queue_empty",
        "rpc_queue_next",
        "rpc_queue_next_synchronously",
        "rpc_wait",
        "rpc_mc_parse_raw_wildcard_with_flags_to_array",
        "rpc_tl_query_one",
        "rpc_tl_query",
        "rpc_tl_query_result_one",
        "rpc_tl_query_result",
        "rpc_tl_query_result_synchronously",
        "rpc_tl_pending_queries_count",
        "typed_rpc_tl_query_one",
        "typed_rpc_tl_query",
        "typed_rpc_tl_query_result_one",
        "typed_rpc_tl_query_result",
        "typed_rpc_tl_query_result_synchronously",
        "rpc_server_fetch_request",
        "rpc_server_store_response",
        "set_fail_rpc_on_int32_overflow",
        "wait_multi",
        "wait_synchronously",
        "wait_concurrently",
        "wait_queue_create",
        "wait_queue_push",
        "wait_queue_empty",
        "wait_queue_next",
        "wait_queue_next_synchronously",
        "sched_yield",
        "sched_yield_sleep",
        "get_running_fork_id",
        "get_fork_stat",
        "instance_cast",
        "instance_to_array",
        "instance_cache_fetch",
        "instance_cache_store",
        "instance_cache_update_ttl",
        "instance_cache_delete",
        "instance_serialize",
        "instance_deserialize",
        "msgpack_serialize",
        "msgpack_serialize_safe",
        "msgpack_deserialize",
        "msgpack_deserialize_safe",
        "confdata_get_value",
        "confdata_get_values_by_predefined_wildcard",
        "is_confdata_loaded",
        "profiler_is_enabled",
        "profiler_set_function_label",
        "profiler_set_log_suffix",
        "to_array_debug",
        "classof",
        "curl_exec_concurrently",
        "is_kphp_job_workers_enabled",
        "get_job_workers_number",
        "get_webserver_stats",
        "get_kphp_cluster_name",
        "kphp_job_worker_start",
        "kphp_job_worker_start_multi",
        "kphp_job_worker_start_no_reply",
        "kphp_job_worker_fetch_request",
        "kphp_job_worker_store_response",
        "thread_pool_test_load",
        "vk_dot_product",
        "send_http_103_early_hints",
)
